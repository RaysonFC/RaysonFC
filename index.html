<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Severino OCR â†’ CSV</title>
<script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="wrap">

  <!-- HEADER -->
  <header class="header">
    <div class="logo">
      <span class="logo-icon">â¬¡</span>
      <h1>SEVERINO <em>OCR</em></h1>
    </div>
    <p class="tagline">ExtraÃ§Ã£o inteligente de dados â†’ CSV</p>
  </header>

  <!-- CARDS -->
  <div class="cards">
    <div class="card c-pr">
      <div class="card-lbl">ParanÃ¡ <span class="chip">CA 1</span></div>
      <div class="card-val" id="cPR">0</div>
    </div>
    <div class="card c-rj">
      <div class="card-lbl">Rio de Janeiro <span class="chip">CA 28</span></div>
      <div class="card-val" id="cRJ">0</div>
    </div>
    <div class="card c-tot">
      <div class="card-lbl">Total Linhas</div>
      <div class="card-val" id="cTOT">0</div>
    </div>
    <div class="card c-err">
      <div class="card-lbl">NÃ£o Reconhecidos</div>
      <div class="card-val" id="cERR">0</div>
    </div>
  </div>

  <!-- CONFIG -->
  <div class="cfg">
    <div class="cfg-g">
      <label>Idioma OCR</label>
      <select id="selLang">
        <option value="por+eng">PortuguÃªs + InglÃªs</option>
        <option value="por">Somente PortuguÃªs</option>
        <option value="eng">Somente InglÃªs</option>
        <option value="por+eng+spa">Port. + InglÃªs + Espanhol</option>
      </select>
    </div>
    <div class="cfg-g">
      <label>Modo de PÃ¡gina</label>
      <select id="selPsm">
        <option value="6">Bloco uniforme (padrÃ£o)</option>
        <option value="3">AutomÃ¡tico</option>
        <option value="4">Coluna Ãºnica</option>
        <option value="11">Texto esparso</option>
      </select>
    </div>
    <div class="cfg-g">
      <label>Contraste</label>
      <select id="selContrast">
        <option value="1.4">Suave  (1.4Ã—)</option>
        <option value="1.7" selected>Normal (1.7Ã—)</option>
        <option value="2.2">Forte  (2.2Ã—)</option>
        <option value="3.0">MÃ¡ximo (3.0Ã—)</option>
      </select>
    </div>
    <div class="cfg-g tog">
      <input type="checkbox" id="chkPre" checked>
      <label for="chkPre">PrÃ©-processar imagem</label>
      <small>cinza + contraste + sharpen</small>
    </div>
    <div class="cfg-g tog">
      <input type="checkbox" id="chkInv" checked>
      <label for="chkInv">Inverter cores</label>
      <small>screenshots fundo escuro</small>
    </div>
  </div>

  <!-- UPLOAD -->
  <input type="file" id="fInput" multiple accept="image/*" style="display:none">
  <div id="dropZone">
    <span class="dz-icon">ğŸ“‚</span>
    <div class="dz-title">Carregar imagens</div>
    <div class="dz-methods">
      <div class="dz-method">ğŸ–±ï¸ Clique para selecionar</div>
      <div class="dz-method">ğŸ“¤ Arraste e solte aqui</div>
      <div class="dz-method">âŒ¨ï¸ <kbd>Ctrl+V</kbd> para colar</div>
      <div class="dz-method">ğŸ“¸ PrintScreen â†’ <kbd>Ctrl+V</kbd></div>
    </div>
    <div id="pasteMsg">âœ” Imagem colada!</div>
  </div>

  <!-- PREVIEW -->
  <div id="prevWrap">
    <div id="prevEmpty">Nenhuma imagem carregada</div>
    <div id="prevLabel"></div>
    <div id="prevNav">
      <button id="btnPrev" disabled>â€¹</button>
      <span id="navLbl">1 / 1</span>
      <button id="btnNext" disabled>â€º</button>
    </div>
    <div id="zoomHint">scroll = zoom Â· duplo clique = reset</div>
  </div>

  <!-- PROGRESSO -->
  <div id="progArea">
    <div id="progBar"><div id="progFill"></div></div>
    <div id="progMsg">Aguardando...</div>
  </div>

  <!-- BOTÃ•ES PRINCIPAIS -->
  <div class="btn-row">
    <button class="btn btn-yellow" id="btnConvert">ğŸ” Converter imagens</button>
    <button class="btn btn-ghost"  id="btnClear">âœ• Limpar tudo</button>
  </div>

  <!-- ERROS -->
  <div id="errBox">
    <div class="err-head">
      <h3>Linhas nÃ£o reconhecidas <span class="badge-r" id="errBadge">0</span></h3>
      <button class="btn btn-ghost btn-sm" id="btnTogErr">â–¼ Ver</button>
    </div>
    <div id="errList"></div>
  </div>

  <!-- TABELA -->
  <div id="tblWrap">
    <div class="tbl-scroll" id="tblScroll"></div>
  </div>

  <!-- AÃ‡Ã•ES -->
  <div class="actions" id="actBar" style="display:none">
    <button class="btn btn-dark" id="btnDl">â†“ Baixar CSV</button>
    <button class="btn btn-dark" id="btnCopy">â§‰ Copiar CSV</button>
    <button class="btn btn-dark btn-muted" id="btnDlErr">â†“ Baixar Erros TXT</button>
  </div>

</div>

<!-- MÃ³dulos em ordem de dependÃªncia -->
<script src="js/corrections.js"></script>
<script src="js/preprocess.js"></script>
<script src="js/parser.js"></script>
<script src="js/preview.js"></script>
<script src="js/table.js"></script>
<script src="js/export.js"></script>
<script src="js/app.js"></script>
</body>
</html>
